<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ontario-data-mcp ‚Äî An MCP server for Ontario's open data</title>
  <meta name="description" content="An MCP server for Ontario's open data catalogue. Search, cache, and query 2,900+ government datasets from any MCP client.">
  <meta property="og:title" content="ontario-data-mcp ‚Äî An MCP server for Ontario's open data">
  <meta property="og:description" content="An MCP server for Ontario's open data catalogue. Search, cache, and query 2,900+ government datasets from any MCP client.">
  <meta property="og:type" content="website">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÅ</text></svg>">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; color: #1a1a1a; background: #fff; line-height: 1.6; -webkit-font-smoothing: antialiased; }
    a { color: inherit; }
    a:focus-visible, button:focus-visible { outline: 2px solid #0B6E4F; outline-offset: 2px; border-radius: 2px; }
    code, pre { font-family: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace; }

    /* Hero */
    .hero {
      padding: 100px 24px 72px;
      text-align: center;
      background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(11,110,79,0.07) 0%, transparent 70%);
    }
    .badge {
      display: inline-block;
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #0B6E4F;
      background: rgba(11,110,79,0.08);
      border: 1px solid rgba(11,110,79,0.2);
      border-radius: 100px;
      padding: 6px 16px;
      margin-bottom: 24px;
    }
    .hero h1 {
      font-size: clamp(2.2rem, 5vw, 3.4rem);
      font-weight: 700;
      letter-spacing: -0.035em;
      line-height: 1.1;
      margin-bottom: 20px;
    }
    .hero h1 span { color: #0B6E4F; }
    .hero .subtitle {
      font-size: 1.1rem;
      color: #444;
      max-width: 520px;
      margin: 0 auto 40px;
      line-height: 1.7;
    }
    .install-box {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      background: #111;
      border-radius: 10px;
      padding: 14px 20px;
      font-size: 0.95rem;
    }
    .install-box code { color: #a8d8a8; }
    .install-box button {
      background: rgba(255,255,255,0.1);
      border: none; color: #aaa; cursor: pointer;
      font-size: 0.75rem; font-weight: 500;
      padding: 5px 12px; border-radius: 6px;
      transition: all 0.15s;
    }
    .install-box button:hover { background: rgba(255,255,255,0.18); color: #fff; }
    .links { margin-top: 28px; font-size: 0.85rem; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
    .links a { color: #555; text-decoration: none; transition: color 0.15s; }
    .links a:hover { color: #0B6E4F; }

    /* Stats ribbon */
    .stats {
      display: flex; justify-content: center; gap: 48px;
      padding: 40px 24px; border-bottom: 1px solid #f0f0f0;
    }
    .stat { text-align: center; }
    .stat-num { font-size: 1.8rem; font-weight: 700; letter-spacing: -0.02em; color: #0B6E4F; }
    .stat-label { font-size: 0.78rem; color: #666; margin-top: 2px; }

    /* Sections */
    section { padding: 80px 24px; }
    .section-header { text-align: center; margin-bottom: 52px; }
    .section-header h2 { font-size: 1.8rem; font-weight: 700; letter-spacing: -0.025em; margin-bottom: 8px; }
    .section-header p { font-size: 1rem; color: #555; max-width: 520px; margin: 0 auto; line-height: 1.7; }
    .container { max-width: 720px; margin: 0 auto; }
    .container--wide { max-width: 960px; margin: 0 auto; }
    .bg-muted { background: #f8f8f8; }

    /* Tool cards */
    .tools-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; }
    .tool-card {
      border: 1px solid #eee; border-radius: 12px; padding: 0;
      transition: all 0.2s; position: relative; overflow: hidden;
    }
    .tool-card > summary {
      display: block; padding: 24px 24px 26px;
      cursor: pointer; list-style: none;
    }
    .tool-card > summary::-webkit-details-marker { display: none; }
    .tool-card > summary::marker { display: none; }
    .tool-card::before {
      content: ''; position: absolute; top: 0; left: 0;
      width: 3px; height: 100%; background: #0B6E4F; opacity: 0; transition: opacity 0.2s;
    }
    .tool-card:hover { border-color: #ddd; box-shadow: 0 2px 12px rgba(0,0,0,0.04); }
    .tool-card:hover::before { opacity: 1; }
    .tool-card-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; }
    .tool-card-name { font-weight: 600; font-size: 1rem; }
    .tool-card-count { font-size: 0.7rem; font-weight: 600; color: #0B6E4F; background: rgba(11,110,79,0.08); padding: 3px 8px; border-radius: 100px; }
    .tool-card-desc { font-size: 0.88rem; color: #555; line-height: 1.6; }
    .tool-card-detail {
      display: block; padding: 0 24px 24px; margin-top: 0; padding-top: 12px; border-top: 1px solid #f0f0f0;
      font-size: 0.78rem; color: #666; font-family: 'SF Mono', 'Fira Code', monospace; line-height: 1.8;
    }

    /* How it works */
    .steps { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; max-width: 720px; margin: 0 auto; }
    .step-num { font-size: 2.5rem; font-weight: 800; color: rgba(11,110,79,0.12); line-height: 1; margin-bottom: 8px; }
    .step-title { font-weight: 600; font-size: 1.05rem; margin-bottom: 4px; }
    .step-desc { font-size: 0.88rem; color: #555; line-height: 1.65; }

    .hero-inner { max-width: 640px; margin: 0 auto; }

    /* Install */
    .install-inner { max-width: 640px; margin: 0 auto; }
    .tabs { display: flex; gap: 4px; margin-bottom: 16px; }
    .tab-btn {
      background: none; border: none;
      padding: 8px 16px; font-size: 0.82rem; font-weight: 500;
      color: #666; cursor: pointer; border-radius: 6px; transition: all 0.15s;
    }
    .tab-btn:hover { color: #333; }
    .tab-btn.active { background: #f0f0f0; color: #1a1a1a; }
    .bg-muted .tab-btn.active { background: #fff; }
    .code-block { background: #111; border-radius: 10px; padding: 24px; position: relative; }
    .code-block p { font-size: 0.8rem; color: #999; margin-bottom: 12px; }
    .code-block pre { font-size: 0.85rem; color: #a8d8a8; overflow-x: auto; line-height: 1.7; }
    .code-block .copy-btn {
      position: absolute; top: 14px; right: 14px;
      background: rgba(255,255,255,0.06); border: none;
      color: #555; font-size: 0.72rem; font-weight: 500;
      cursor: pointer; padding: 5px 10px; border-radius: 5px;
    }
    .code-block .copy-btn:hover { color: #999; background: rgba(255,255,255,0.12); }
    .source-note { text-align: center; margin-top: 20px; font-size: 0.8rem; color: #666; }
    .source-note code { font-size: 0.75rem; color: #555; }

    /* CTA strip */
    .cta-strip {
      text-align: center;
      padding: 48px 24px;
      border-top: 1px solid #f0f0f0;
      border-bottom: 1px solid #f0f0f0;
    }
    .cta-strip p {
      font-size: 1.1rem;
      color: #444;
      margin-bottom: 20px;
    }
    .cta-strip .install-box { margin-bottom: 12px; }
    .cta-strip .cta-alt {
      font-size: 0.85rem;
      color: #666;
    }
    .cta-strip .cta-alt a {
      color: #0B6E4F;
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    /* Feedback */
    .feedback { text-align: center; font-size: 0.85rem; color: #555; padding: 32px 24px; }
    .feedback a { color: #444; text-decoration: underline; text-underline-offset: 3px; }
    .feedback a:hover { color: #0B6E4F; }

    /* Footer */
    footer { padding: 48px 24px; text-align: center; font-size: 0.8rem; color: #666; border-top: 1px solid #f0f0f0; }
    footer a { color: #555; text-decoration: none; }
    footer a:hover { color: #0B6E4F; }
    footer .footer-links { display: flex; gap: 24px; justify-content: center; margin-bottom: 12px; }
    footer .footer-meta { font-size: 0.75rem; }

    /* Ticker feed */
    .ticker-wrapper {
      background: #111;
      color: #fff;
      display: flex;
      align-items: center;
      overflow: hidden;
      height: 52px;
    }
    .ticker-label {
      flex-shrink: 0;
      background: #0B6E4F;
      color: #fff;
      font-size: 0.78rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 14px 20px;
      height: 100%;
      display: flex;
      align-items: center;
    }
    .ticker-track {
      flex: 1;
      overflow: hidden;
      position: relative;
    }
    .ticker-content {
      display: flex;
      white-space: nowrap;
    }
    .ticker-content:hover .ticker-set {
      animation-play-state: paused;
    }
    .ticker-set {
      display: flex;
      gap: 48px;
      padding-right: 48px;
      flex-shrink: 0;
      animation: ticker-scroll var(--ticker-duration, 30s) linear infinite;
    }
    .ticker-item {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-size: 0.88rem;
      color: #ccc;
      text-decoration: none;
      transition: color 0.15s;
      padding: 4px 14px 4px 10px;
      border-radius: 4px;
      background: linear-gradient(90deg, rgba(11,110,79,0.08) 0%, transparent 100%);
    }
    .ticker-item:hover {
      color: #fff;
    }
    .ticker-item-title {
      font-weight: 500;
      color: #fff;
      max-width: 340px;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .ticker-item-time {
      font-size: 0.78rem;
      color: #666;
      flex-shrink: 0;
    }
    .ticker-dot {
      width: 6px;
      height: 6px;
      background: #0B6E4F;
      border-radius: 50%;
      flex-shrink: 0;
    }
    @keyframes ticker-scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* Carousel for examples */
    .carousel-section { padding: 80px 0; }
    .carousel-header { text-align: center; margin-bottom: 32px; padding: 0 24px; }
    .carousel-header h2 { font-size: 1.8rem; font-weight: 700; letter-spacing: -0.025em; margin-bottom: 8px; }
    .carousel-header p { font-size: 1rem; color: #555; line-height: 1.7; }
    .carousel-track {
      display: flex;
      gap: 16px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      scroll-padding: 0 24px;
      padding: 8px 24px 24px;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .carousel-track::-webkit-scrollbar { display: none; }
    .carousel-card {
      flex: 0 0 400px;
      scroll-snap-align: start;
      border: 1px solid #eee;
      border-radius: 15px;
      padding: 25px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .carousel-card:hover { border-color: #ddd; box-shadow: 0 2px 12px rgba(0,0,0,0.04); }
    .carousel-card:first-child { margin-left: calc(50% - 200px - 12px); }
    .carousel-card:last-child { margin-right: calc(50% - 200px - 12px); }
    .carousel-tag {
      display: inline-block;
      font-size: 0.81rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #0B6E4F;
      background: rgba(11,110,79,0.06);
      padding: 4px 10px;
      border-radius: 4px;
      margin-bottom: 10px;
    }
    .carousel-q {
      font-size: 1.19rem;
      font-weight: 500;
      line-height: 1.45;
      color: #1a1a1a;
      margin-bottom: 12px;
    }
    .carousel-a {
      font-size: 1.025rem;
      color: #555;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    .carousel-a strong { color: #1a1a1a; }
    .carousel-sources {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 10px;
      line-height: 1.5;
    }
    .carousel-sources a { color: #0B6E4F; text-decoration: underline; text-underline-offset: 2px; }
    .carousel-card details {
      margin-top: 10px;
      border-top: 1px solid #f0f0f0;
      padding-top: 10px;
    }
    .carousel-card summary {
      font-size: 0.9rem;
      font-weight: 500;
      color: #888;
      cursor: pointer;
      user-select: none;
    }
    .carousel-card summary:hover { color: #0B6E4F; }
    .carousel-card .hood-content {
      margin-top: 10px;
      font-size: 0.9rem;
      color: #666;
      line-height: 1.6;
    }
    .carousel-card .hood-step { margin-bottom: 4px; }
    .carousel-card .tool-name { color: #0B6E4F; font-weight: 500; }
    .carousel-card .hood-code {
      background: #1a1a1a;
      color: #a8d8a8;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.85rem;
      padding: 12px 15px;
      border-radius: 6px;
      margin-top: 8px;
      overflow-x: auto;
      white-space: pre;
      line-height: 1.5;
    }
    .carousel-card .hood-code .kw { color: #ff79c6; font-weight: 700; }
    .carousel-card .hood-code .fn { color: #8be9fd; }
    .carousel-card .hood-code .str { color: #f1fa8c; font-style: italic; }
    .carousel-card .hood-code .num { color: #bd93f9; }
    .carousel-card .hood-code .comment { color: #7283b5; font-style: italic; }
    .carousel-hint {
      text-align: center;
      font-size: 0.94rem;
      color: #888;
      margin-top: 8px;
    }
    /* Follow-up inside carousel card */
    .carousel-card .followup-content {
      margin-top: 10px;
      font-size: 0.95rem;
      color: #555;
      line-height: 1.6;
    }
    .carousel-card .followup-content .carousel-q {
      font-size: 1.05rem;
      margin-bottom: 8px;
    }
    .carousel-card .followup-content .carousel-a {
      font-size: 0.95rem;
      margin-bottom: 10px;
    }
    .carousel-card .followup-content .carousel-sources {
      font-size: 0.85rem;
    }


    @media (max-width: 640px) {
      .hero { padding: 72px 24px 56px; }
      .stats { gap: 24px; flex-wrap: wrap; }
      .stat-num { font-size: 1.4rem; }
      .steps { grid-template-columns: 1fr; gap: 28px; }
      .tools-grid { grid-template-columns: 1fr; }
      .ticker-label { padding: 14px 14px; font-size: 0.72rem; }
      .ticker-item-title { max-width: 220px; }
      .carousel-card { flex: 0 0 325px; }
      .carousel-card:first-child { margin-left: 24px; }
      .carousel-card:last-child { margin-right: 24px; }
    }
  </style>
</head>
<body>

  <!-- Hero -->
  <header class="hero">
    <div class="hero-inner">
      <h1>An MCP server for <span>Ontario's open data.</span></h1>
      <p class="subtitle">Search, cache, and query 2,900+ government datasets. Cross-dataset joins, iterative analysis, DuckDB-backed local storage. No API key required.</p>
      <div class="install-box">
        <code>uvx ontario-data-mcp</code>
        <button onclick="copyText('uvx ontario-data-mcp', this)">Copy</button>
      </div>
      <div class="links">
        <a href="https://github.com/sprine/ontario-data-mcp">GitHub</a>
        <a href="https://data.ontario.ca/">Ontario Data Catalogue</a>
        <a href="https://modelcontextprotocol.io/">What is MCP?</a>
      </div>
    </div>
  </header>

  <!-- Stats - LED Counters -->
  <div class="stats">
    <div class="stat">
      <div class="stat-num" data-target="2900" data-suffix="+">0</div>
      <div class="stat-label">datasets</div>
    </div>
    <div class="stat">
      <div class="stat-num" data-target="24">0</div>
      <div class="stat-label">tools</div>
    </div>
    <div class="stat">
      <div class="stat-num" data-target="3">0</div>
      <div class="stat-label">prompts</div>
    </div>
    <div class="stat">
      <div class="stat-num" data-target="4">0</div>
      <div class="stat-label">resources</div>
    </div>
  </div>

  <!-- Ticker Feed -->
  <div id="ticker-section" class="ticker-wrapper" style="display: none;">
    <div class="ticker-label">Recently Updated</div>
    <div class="ticker-track">
      <div id="ticker-feed" class="ticker-content"></div>
    </div>
  </div>

  <!-- How it works -->
  <section class="bg-muted" aria-labelledby="how-heading">
    <div class="container">
      <div class="section-header">
        <h2 id="how-heading">How it works</h2>
        <p>Each question triggers a pipeline of tool calls.</p>
      </div>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">Search</div>
          <div class="step-desc">Finds relevant datasets across 25 ministries. Keyword, topic, location, or related-dataset lookup.</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">Retrieve</div>
          <div class="step-desc">Downloads CSVs, XLSX, shapefiles, GeoJSON. Parses and caches locally in DuckDB.</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">Analyze</div>
          <div class="step-desc">Runs SQL against cached data. Aggregations, joins, window functions ‚Äî results come back as insight.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Examples carousel (with follow-ups merged) -->
  <!-- Examples carousel (rendered from JSON by carousel.js) -->
  <section class="carousel-section" aria-labelledby="examples-heading" role="region" aria-roledescription="carousel" style="display:none">
    <div class="carousel-header">
      <h2 id="examples-heading">See it in action</h2>
      <p>Real questions, real data, real SQL. Expand any card to see the tool calls or the follow-up question.</p>
    </div>
    <div class="carousel-track"></div>
    <div class="carousel-hint">&larr; Scroll for more &rarr;</div>
  </section>


  <!-- CTA strip -->
  <div class="cta-strip">
    <p>Works with any MCP-compatible client. No API key required.</p>
    <div class="install-box">
      <code>uvx ontario-data-mcp</code>
      <button onclick="copyText('uvx ontario-data-mcp', this)">Copy</button>
    </div>
    <div class="cta-alt">or <a href="#get-started">see setup instructions</a></div>
  </div>

  <!-- Get started -->
  <section id="get-started" class="bg-muted" aria-labelledby="install-heading">
    <div class="install-inner">
      <div class="section-header">
        <h2 id="install-heading">Get started</h2>
        <p>Works with any <a href="https://modelcontextprotocol.io/" style="color:#0B6E4F; text-decoration: underline; text-underline-offset: 3px;">MCP-compatible</a> client.</p>
      </div>

      <div class="tabs">
        <button onclick="switchTab('json')" data-tab="json" class="tab-btn active">Claude Desktop</button>
        <button onclick="switchTab('code')" data-tab="code" class="tab-btn">Claude Code</button>
        <button onclick="switchTab('vscode')" data-tab="vscode" class="tab-btn">VS Code</button>
        <button onclick="switchTab('cli')" data-tab="cli" class="tab-btn">CLI</button>
      </div>

      <div id="panel-json" class="tab-panel">
        <div class="code-block">
          <p>Add to claude_desktop_config.json</p>
          <pre><code>{
  "mcpServers": {
    "ontario-data": {
      "command": "uvx",
      "args": ["ontario-data-mcp"]
    }
  }
}</code></pre>
          <button class="copy-btn" onclick="copyText(this.closest('.code-block').querySelector('pre code').textContent, this)">Copy</button>
        </div>
      </div>

      <div id="panel-code" class="tab-panel" style="display:none">
        <div class="code-block">
          <p>Add via Claude Code CLI</p>
          <pre><code>claude mcp add ontario-data -- uvx ontario-data-mcp</code></pre>
          <button class="copy-btn" onclick="copyText('claude mcp add ontario-data -- uvx ontario-data-mcp', this)">Copy</button>
        </div>
      </div>

      <div id="panel-vscode" class="tab-panel" style="display:none">
        <div class="code-block">
          <p>Add to .vscode/mcp.json</p>
          <pre><code>{
  "mcpServers": {
    "ontario-data": {
      "command": "uvx",
      "args": ["ontario-data-mcp"]
    }
  }
}</code></pre>
          <button class="copy-btn" onclick="copyText(this.closest('.code-block').querySelector('pre code').textContent, this)">Copy</button>
        </div>
      </div>

      <div id="panel-cli" class="tab-panel" style="display:none">
        <div class="code-block">
          <p>Run directly with uvx</p>
          <pre><code>uvx ontario-data-mcp</code></pre>
          <button class="copy-btn" onclick="copyText('uvx ontario-data-mcp', this)">Copy</button>
        </div>
      </div>

      <div class="source-note">
        Or clone from source: <code>git clone https://github.com/sprine/ontario-data-mcp && cd ontario-data-mcp && uv sync</code>
      </div>
    </div>
  </section>

  <!-- Tools, Prompts & Resources -->
  <section aria-labelledby="tools-heading">
    <div class="container--wide">
      <div class="section-header">
        <h2 id="tools-heading">24 tools under the hood</h2>
        <p>Expand any category to see the individual tools.</p>
      </div>
      <div class="tools-grid">
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Discovery</span>
              <span class="tool-card-count">6 tools</span>
            </div>
            <div class="tool-card-desc">Search by keyword, topic, ministry, or geographic area.</div>
          </summary>
          <div class="tool-card-detail">search_datasets, list_organizations, list_topics, get_popular_datasets, search_by_location, find_related_datasets</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Metadata</span>
              <span class="tool-card-count">4 tools</span>
            </div>
            <div class="tool-card-desc">Inspect schemas, resources, and compare datasets side by side.</div>
          </summary>
          <div class="tool-card-detail">get_dataset_info, list_resources, get_resource_schema, compare_datasets</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Retrieval</span>
              <span class="tool-card-count">4 tools</span>
            </div>
            <div class="tool-card-desc">Download and cache datasets locally in DuckDB for fast, offline access.</div>
          </summary>
          <div class="tool-card-detail">download_resource, cache_info, cache_manage, refresh_cache</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Querying</span>
              <span class="tool-card-count">4 tools</span>
            </div>
            <div class="tool-card-desc">Run SQL against remote or cached data. Preview rows or run custom queries.</div>
          </summary>
          <div class="tool-card-detail">query_resource, sql_query, query_cached, preview_data</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Data Quality</span>
              <span class="tool-card-count">3 tools</span>
            </div>
            <div class="tool-card-desc">Freshness checks, completeness analysis, and statistical profiles.</div>
          </summary>
          <div class="tool-card-detail">check_data_quality, check_freshness, profile_data</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Geospatial</span>
              <span class="tool-card-count">3 tools</span>
            </div>
            <div class="tool-card-desc">Load shapefiles, KML, and GeoJSON into DuckDB. Run spatial queries.</div>
          </summary>
          <div class="tool-card-detail">load_geodata, spatial_query, list_geo_datasets</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Prompts</span>
              <span class="tool-card-count">3 prompts</span>
            </div>
            <div class="tool-card-desc">Context-aware guided workflows with live catalogue data.</div>
          </summary>
          <div class="tool-card-detail">explore_topic ‚Äî guided exploration of any topic<br>data_investigation ‚Äî deep dive: schema, quality, stats<br>compare_data ‚Äî side-by-side dataset analysis</div>
        </details>
        <details class="tool-card">
          <summary>
            <div class="tool-card-head">
              <span class="tool-card-name">Resources</span>
              <span class="tool-card-count">4 resources</span>
            </div>
            <div class="tool-card-desc">Read-only context for the LLM: cache status, metadata, SQL tips.</div>
          </summary>
          <div class="tool-card-detail">ontario://cache/index ‚Äî cached datasets with freshness<br>ontario://dataset/{id} ‚Äî full dataset metadata<br>ontario://portal/stats ‚Äî catalogue overview<br>ontario://guides/duckdb-sql ‚Äî SQL tips for Ontario data</div>
        </details>
      </div>
    </div>
  </section>

  <!-- Feedback -->
  <div class="feedback">
    Found a bug or have a feature request? <a href="https://github.com/sprine/ontario-data-mcp/issues">Open an issue</a> ¬∑ Feedback on the data catalogue itself? <a href="https://www.ontario.ca/form/provide-feedback-ontario-data-catalogue?utm_source=ontario-data-mcp&utm_medium=marketing-site&utm_campaign=community-feedback">Let Ontario know</a>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="https://github.com/sprine/ontario-data-mcp">GitHub</a>
      <a href="https://data.ontario.ca/">Data Catalogue</a>
      <a href="https://github.com/sprine/ontario-data-mcp/blob/main/LICENSE">MIT License</a>
    </div>
    <div class="footer-meta">
      Built with <a href="https://github.com/jlowin/fastmcp">FastMCP</a> and <a href="https://duckdb.org">DuckDB</a>.
      Datasets subject to <a href="https://data.ontario.ca/about#licensing">Ontario's Open Government Licence</a>.
    </div>
  </footer>

  <script>
    // Counter Animation with staggered starts
    (function initCounters() {
      const counters = document.querySelectorAll('.stat-num[data-target]');
      const duration = 1800;

      function easeOutExpo(t) {
        return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
      }

      function formatNumber(num) {
        return num.toLocaleString('en-US');
      }

      function animateCounter(el, delay) {
        const target = parseInt(el.dataset.target, 10);
        const suffix = el.dataset.suffix || '';
        setTimeout(() => {
          const startTime = performance.now();

          function tick(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const easedProgress = easeOutExpo(progress);
            const currentValue = Math.floor(easedProgress * target);

            el.textContent = formatNumber(currentValue) + suffix;

            if (progress < 1) {
              requestAnimationFrame(tick);
            } else {
              el.textContent = formatNumber(target) + suffix;
            }
          }

          requestAnimationFrame(tick);
        }, delay);
      }

      // Stagger delays: 0ms, 150ms, 280ms, 400ms
      const delays = [0, 150, 280, 400];
      let triggered = false;

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !triggered) {
            triggered = true;
            counters.forEach((counter, i) => {
              animateCounter(counter, delays[i] || i * 120);
            });
            observer.disconnect();
          }
        });
      }, { threshold: 0.3 });

      observer.observe(document.querySelector('.stats'));
    })();

    function switchTab(tab) {
      document.querySelectorAll('.tab-panel').forEach(p => p.style.display = 'none');
      document.getElementById('panel-' + tab).style.display = 'block';
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.tab === tab);
      });
    }

    // Fetch recent updates and display as ticker
    (function loadTickerFeed() {
      fetch('https://data.ontario.ca/feeds/dataset.atom')
        .then(r => r.text())
        .then(xml => {
          const doc = new DOMParser().parseFromString(xml, 'application/xml');
          const entries = doc.querySelectorAll('entry');
          const container = document.getElementById('ticker-feed');
          const section = document.getElementById('ticker-section');
          const items = Array.from(entries).slice(0, 8);
          if (!items.length) return;

          // Build ticker items
          let tickerHTML = '';
          items.forEach(entry => {
            const title = entry.querySelector('title')?.textContent || '';
            const updated = entry.querySelector('updated')?.textContent || '';

            const enclosure = entry.querySelector('link[rel="enclosure"]');
            const href = enclosure?.getAttribute('href') || '';
            const slugMatch = href.match(/id=([^&]+)$/);
            const slug = slugMatch ? slugMatch[1] : '';
            const url = slug ? 'https://data.ontario.ca/dataset/' + slug : '#';

            const ago = timeAgo(new Date(updated));

            tickerHTML +=
              '<a class="ticker-item" href="' + url + '" target="_blank" rel="noopener">' +
              '<span class="ticker-dot"></span>' +
              '<span class="ticker-item-title">' + escapeHtml(title) + '</span>' +
              '<span class="ticker-item-time">' + ago + '</span>' +
              '</a>';
          });

          // Two identical sets for seamless looping ‚Äî each scrolls its own -100%
          container.innerHTML =
            '<div class="ticker-set">' + tickerHTML + '</div>' +
            '<div class="ticker-set">' + tickerHTML + '</div>';

          // Set speed based on content width (~60px/s)
          requestAnimationFrame(function() {
            var setWidth = container.querySelector('.ticker-set').offsetWidth;
            var duration = Math.max(setWidth / 60, 10);
            container.querySelectorAll('.ticker-set').forEach(function(s) {
              s.style.setProperty('--ticker-duration', duration + 's');
            });
          });

          section.style.display = '';
        })
        .catch(function() { /* silently skip if CORS or network error */ });
    })();

    function timeAgo(date) {
      var seconds = Math.floor((new Date() - date) / 1000);
      if (seconds < 60) return 'just now';
      var minutes = Math.floor(seconds / 60);
      if (minutes < 60) return minutes + 'm ago';
      var hours = Math.floor(minutes / 60);
      if (hours < 24) return hours + 'h ago';
      var days = Math.floor(hours / 24);
      if (days === 1) return 'yesterday';
      if (days < 30) return days + 'd ago';
      return date.toLocaleDateString('en-CA', { month: 'short', day: 'numeric' });
    }

    function escapeHtml(str) {
      var d = document.createElement('div');
      d.textContent = str;
      return d.innerHTML;
    }

    function copyText(text, btn) {
      navigator.clipboard.writeText(text.trim()).then(() => {
        const orig = btn.textContent;
        btn.textContent = 'Copied!';
        setTimeout(() => btn.textContent = orig, 1200);
      });
    }
  </script>
  <script src="sql-highlight.js"></script>
  <script src="carousel.js"></script>

</body>
</html>
